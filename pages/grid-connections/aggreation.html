<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>Model Aggregation | The Insightful Engineer</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>

<header>The Insightful Engineer</header>

<nav>
    <ul>
        <li><a href="../../index.html">Home</a></li>
        <li><a href="../../about.html">About</a></li>
        <li><a href="../../projects.html">Projects</a></li>
        <li class="contact-link"><a href="../../contact.html">Contact</a></li>
    </ul>
</nav>

<main class="post-container">

    <article>
        <header class="post-header">
            <h1>Model Aggregation</h1>
            <p class="post-meta">
                Author: C. Robson · Category: Grid Connections · Published: 12 March 2026
            </p>
        </header>

        <p>
            In this post, I will break down what model aggregation is, why it matters, and how I to do it.
            I will also dive into the assumptions used to create the model, and when these break down i.e. when
            you cannot use the model. 
        </p>

        <p>
            The main reason for aggregating models is so that complex simulations can be numerically simplified. 
            Depending on the size of the model, this reduction greatly decreases compute time. This has obvious 
            advantages. There are other advantages such as model stability, increased protection of OEM control 
            systems, and more. 
        </p>

        <h2>The Basics</h2>
        <p>
            Model aggregation always completed at the start of a connection progress. In the R0 stage, it is not uncommon 
            to be verbally told how the generating plant's equipment will connect. That said, you are more likely to get 
            half-baked single line diagrams that will change at least once while you're going through the aggregated model's 
            validation process.
        </p>

        <p>
            I start by creating the disaggregated model in DIgSILENT's PowerFactory. PowerFactory is used for creating and running 
            the disaggregated model as it doesn't need OEM controllers to run. Simple active and reactive power controllers 
            can be made to control P and Q at the point of connection. After you have made the disaggregated model, it's 
            time to decide what you are going to aggregate. Typically, the collector networks are aggregated. 
        </p>
        
        <p>
            The number of aggregate parameters heavily dependends on: 
        </p>
            <ul class="dotpoint-list">
                <li>Number of main power/park transformers.</li>
                <li>Whether the site is hybrid or not.</li>
                <li>Controller used within the park.</li>
                <li>Size of inverter/units.</li>
            </ul> 
        

        <p>
            Generally speaking you want to aggregate all the similar parts of the plant. You do this because when elements 
            are similar they behave similiary and consequently your aggregate model becomes more accurate! Here is an
            example of how you'd aggregate a simple model.  
        </p>

        <figure>
                <img 
                    src = "..\..\images\Model-Aggregation\Aggregation-example-1.png" 
                    alt = "Aggregating Models">
                <figcaption>Figure 1: Simple Aggregation Example</figcaption>
        </figure>


        <h2>Aggregate Theory</h2>
        <p>
            You can aggregate your model in two ways; using first principals or by running a bunch of load flows. 
            Using first principals is tedious and relies on you remembering the circuit theory you were taught in university
            many years ago. The other draw-back to using the first principals method is that it becomes less accurate when the 
            plant contains long lines. The more common method used for aggregating is to run a number of load flows at varying 
            operating conditions and create what is essentially an electrical losses model. 
        </p>

        <p>
            This method was originally posted <a href="https://docs.nrel.gov/docs/fy06osti/38940.pdf" target="_blank">here</a>. 
            This paper describes how the parameters you calculate should describe how the plant will lose power through it's collector network. 
            By calculating parameters based on the losses over a number of operating conditions, you are essentially taking the 
            average of the plant's losses and calculating the resistance and reactance of a single equivalent cable. This post 
            will explain how aggregated parameters are calculated using load flows. 
        </p>

        <p>
            There are many different variations of aggregated models. Below are some stylised models that I have made. A key takeaway 
            from the aggregated models below is that three winding transformers are never aggregated into a two winding transformer. 
            There are phenomena that need to be explicitly modelled throughout the GPS process which will be lost if three winding
            transformers are modelled at two winding transformers.  
        </p>

        <figure>
                <img 
                    src = "..\..\images\Model-Aggregation\Aggregation-1.png" 
                    alt = "Aggregation variation 1">
                <figcaption>Figure 2: Aggregation Variations 1 and 2</figcaption>
        </figure>

        <figure>
                <img 
                    src = "..\..\images\Model-Aggregation\Aggregation-2.png" 
                    alt = "Aggregation variation 2">
                <figcaption>Figure 3: Aggregation Variations 3 and 4</figcaption>
        </figure>

        <h2>Getting Started</h2>

        <p>
            You now know why, and you know a bit about the science behind the methods used, but how do you actually aggregate a 
            model? Start by dispatching your plant. Any dispatch conditions will do but standardising is always the way to go.
            Most NSPs do not have any requirements on how to aggregate, however, PowerLink Queensland do have a few operating conditions
            and general rules that you will need to follow. That said, the below is broadly accepted across Australia. 
        </p>

        <p>
            Operating conditions I use for aggregation: 
        </p>

            <ul class="dotpoint-list">
                <li><strong>Grid Voltage</strong>: 0.9 p.u., 1.0 p.u., and 1.1 p.u.</li>
                <li><strong>Reactive Power Setpoint</strong>: -1.0 p.u., 0 p.u., and 1.0 p.u.,</li>
                <li><strong>Active Power Setpoint</strong>: 0.05 p.u., 0.5 p.u., and 1.0 p.u.</li>
                <li><strong>Active Power Setpoint (BESS)</strong>: -1.0 p.u., 0.0 p.u., and 1.0 p.u.</li>
            </ul>

        <p>
            Having other other equipment such as capacitors, filters, STATCOMS, etc in service for the aggregation is not necessary. 
            If the aggregation is done correctly, it does not matter if they are in service or not but for consistency, I like to keep off 
            while aggregating models. Less equipment in serivce makes it easier to isolate issues when they arise. It is, however, very 
            important to have the main power transformers tap controller modelled. If you do not model it, you will need to pay 
            particular attention to the tap that the loadflows are solved in so that validation of your parameters can be confirmed.
        </p>
        
        <h2>The Math</h2>

        <p>
            Once you have set up the conditions and run the load flow. Check the POC and confirm the values you are seeing are what you expect.

        </p>


        <!-- Takeaway -->
        <section class="post-takeaway">
            <h2>Key takeaway</h2>
            <p>
                Summarise the post in 2 - 3 sentences.  
                If the reader remembers nothing else, this is what should stick.
            </p>
        </section>

    </article>

</main>

<footer>
    <p>Copyright &copy; 2026 Charles Robson</p>
    <p>
        <a href="/privacy">Privacy Policy</a> |
        <a href="/terms">Terms of Service</a> |
        <a href="/contact">Contact Us</a>
    </p>
</footer>

</body>
</html>
